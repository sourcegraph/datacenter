# Prometheus metrics

This guide covers the performance metrics availabe through Prometheus and assumes Prometheus in
Sourcegraph Data Center has already been set up. For a Prometheus overview and setup guide, see
the [Data Center admin guide](admin-guide.md).

## Recommended metrics

We recommend tracking the following key performance metrics through Prometheus. Typically this is
done by creating dashboards of related metrics, so the metrics are grouped into logical dashboards.

If you're using Grafana for dashboards and have connected Sourcegraph's Prometheus instance to it,
you can [import these dashboards directly from JSON](/docs/grafana/).

### Dashboard: frontend

1.  frontend QPS, by HTTP code (5m avg):

    ```
    sum(label_replace(job:src_http_request_count:rate5m, \"c\", \"00s\", \"code\", \"([0-9]).*\")) by (c)
    ```

1.  frontend QPS, by route (5m avg):

    ```
    sum(route:src_http_request_count:rate5m{route=~\"blob|graphql|home|page.def.landing|page.repo.landing|repo|repo-branches|search|settings|sign-in|site-admin|tree\"}) by (route)
    ```

1.  frontend 90th-percentile request duration (5m avg):

    ```
    histogram_quantile(0.90, route:src_http_request_duration_seconds_bucket:rate5m{route=~\"blob|graphql|home|page.def.landing|page.repo.landing|repo|repo-branches|search|settings|sign-in|site-admin|tree\"})
    ```

1.  frontend 75th-percentile request duration (5m avg):

    ```
    histogram_quantile(0.75, route:src_http_request_duration_seconds_bucket:rate5m{route=~\"blob|graphql|home|page.def.landing|page.repo.landing|repo|repo-branches|search|settings|sign-in|site-admin|tree\"})
    ```

1.  frontend CPU usage, by pod (%)

    ```
    label_replace( irate(process_cpu_seconds_total{app=\"sourcegraph-frontend\"}[10m]), \"inst\", \"\", \"instance\", \"[a-z0-9\\-]+\\-([a-z0-9]+)\" ) * 100
    ```

1.  frontend resident memory, by pod (GB)

    ```
    label_replace( process_resident_memory_bytes{app=\"sourcegraph-frontend\"}, \"inst\", \"\", \"instance\", \"[a-z0-9\\-]+\\-([a-z0-9]+)\" ) / 1024 / 1024 / 1024
    ```

1.  frontend virtual memory, by pod (GB)

    ```
    label_replace( process_virtual_memory_bytes{app=\"sourcegraph-frontend\"}, \"inst\", \"\", \"instance\", \"[a-z0-9\\-]+\\-([a-z0-9]+)\" ) / 1024 / 1024 / 1024
    ```

### Dashboard: gitserver

1.  gitserver total QPS (10m avg):

    ```
    sum(rate(src_gitserver_exec_duration_seconds_count{status=~\"[0-9]+\"}[10m])) by (job)"
    ```

1.  gitserver QPS, by operation (10m avg):

    ```
    sum(rate(src_gitserver_exec_duration_seconds_count{status=~\"[0-9]+\"}[10m])) by (cmd, job)"
    ```

1.  gitserver p90 request duration, by operation (10m avg):

    ```
    histogram_quantile(0.9, sum(rate(src_gitserver_exec_duration_seconds_bucket{status=~\"[0-9]+\"}[10m])) by (le, cmd, job))"
    ```

1.  gitserver p75 request duration, by operation (10m avg):

    ```
    histogram_quantile(0.75, sum(rate(src_gitserver_exec_duration_seconds_bucket{status=~\"[0-9]+\"}[10m])) by (le, cmd, job))"
    ```

1.  git execs running

    ```
    sum by (job)(src_gitserver_exec_running)"
    ```

1.  exit status QPS, by operation (10m avg):

    ```
    sum by (status, cmd)(rate(src_gitserver_exec_duration_seconds_count{status!=\"\"}[10m]))"
    ```

1.  free disk space (TB):

    ```
    min(src_gitserver_disk_space_available) BY (job) / 1000 / 1000 / 1000"
    ```

### Dashboard: resources

1.  max CPU, by service

    ```
    (max by (job)(irate(process_cpu_seconds_total[5m]))) * 100
    ```

1.  max resident memory, by service (GB):

    ```
    (max by (job)(process_resident_memory_bytes)) / 1024 / 1024 / 1024
    ```

1.  max virtual memory, by service (GB):

    ```
    max by (job)(process_virtual_memory_bytes) / 1024 / 1024 / 1024
    ```

## All metrics

This is a list of all metrics available through Prometheus. Though most critical information is covered by the
recommended dashboards above, these additional metrics can be useful for creating custom dashboards or investigating
specific issues.

<!-- AUTOGENERATED BY infrastructure/sh/prom-metric-docs/main.go -->

<style>
span.gray {
    color: gray;
}
</style>

*   `frontend_graphql_parse_fails`<span class="gray"> : counter : sourcegraph-frontend</span><br>Total number of times a
    request fails query parsing.
*   `frontend_graphql_strict_validation_fails`<span class="gray"> : counter : sourcegraph-frontend</span><br>Total number
    of times a request fails only in the new validation.
*   `frontend_graphql_validation_fails`<span class="gray"> : counter : sourcegraph-frontend</span><br>Total number of
    times a request fails validation.
*   `go_gc_duration_seconds`<span class="gray"> : summary : github-proxy, gitserver-1, pgsql,
    query-runner, redis-cache, redis-store, repo-updater, searcher, sourcegraph-frontend, symbols</span><br>A
    summary of the GC invocation durations.
*   `go_goroutines`<span class="gray"> : gauge : github-proxy, gitserver-1, pgsql, query-runner,
    redis-cache, redis-store, repo-updater, searcher, sourcegraph-frontend, symbols</span><br>Number of
    goroutines that currently exist.
*   `go_memstats_alloc_bytes`<span class="gray"> : gauge : github-proxy, gitserver-1, pgsql,
    query-runner, redis-cache, redis-store, repo-updater, searcher, sourcegraph-frontend, symbols</span><br>Number of bytes allocated and still in use.
*   `go_memstats_alloc_bytes_total`<span class="gray"> : counter : github-proxy, gitserver-1, pgsql,
    query-runner, redis-cache, redis-store, repo-updater, searcher, sourcegraph-frontend, symbols</span><br>Total number of bytes allocated, even if freed.
*   `go_memstats_buck_hash_sys_bytes`<span class="gray"> : gauge : github-proxy, gitserver-1, pgsql,
    query-runner, redis-cache, redis-store, repo-updater, searcher, sourcegraph-frontend, symbols</span><br>Number of bytes used by the profiling bucket hash table.
*   `go_memstats_frees_total`<span class="gray"> : counter : github-proxy, gitserver-1, pgsql,
    query-runner, redis-cache, redis-store, repo-updater, searcher, sourcegraph-frontend, symbols</span><br>Total number of frees.
*   `go_memstats_gc_sys_bytes`<span class="gray"> : gauge : github-proxy, gitserver-1, pgsql,
    query-runner, redis-cache, redis-store, repo-updater, searcher, sourcegraph-frontend, symbols</span><br>Number of bytes used for garbage collection system metadata.
*   `go_memstats_heap_alloc_bytes`<span class="gray"> : gauge : github-proxy, gitserver-1, pgsql,
    query-runner, redis-cache, redis-store, repo-updater, searcher, sourcegraph-frontend, symbols</span><br>Number of heap bytes allocated and still in use.
*   `go_memstats_heap_idle_bytes`<span class="gray"> : gauge : github-proxy, gitserver-1, pgsql,
    query-runner, redis-cache, redis-store, repo-updater, searcher, sourcegraph-frontend, symbols</span><br>Number of heap bytes waiting to be used.
*   `go_memstats_heap_inuse_bytes`<span class="gray"> : gauge : github-proxy, gitserver-1, pgsql,
    query-runner, redis-cache, redis-store, repo-updater, searcher, sourcegraph-frontend, symbols</span><br>Number of heap bytes that are in use.
*   `go_memstats_heap_objects`<span class="gray"> : gauge : github-proxy, gitserver-1, pgsql,
    query-runner, redis-cache, redis-store, repo-updater, searcher, sourcegraph-frontend, symbols</span><br>Number of allocated objects.
*   `go_memstats_heap_released_bytes_total`<span class="gray"> : counter : github-proxy, gitserver-1,
    pgsql, query-runner, redis-cache, redis-store, repo-updater, searcher, sourcegraph-frontend, symbols</span><br>Total number of heap bytes released to OS.
*   `go_memstats_heap_sys_bytes`<span class="gray"> : gauge : github-proxy, gitserver-1, pgsql,
    query-runner, redis-cache, redis-store, repo-updater, searcher, sourcegraph-frontend, symbols</span><br>Number of heap bytes obtained from system.
*   `go_memstats_last_gc_time_seconds`<span class="gray"> : gauge : github-proxy, gitserver-1, pgsql,
    query-runner, redis-cache, redis-store, repo-updater, searcher, sourcegraph-frontend, symbols</span><br>Number of seconds since 1970 of last garbage collection.
*   `go_memstats_lookups_total`<span class="gray"> : counter : github-proxy, gitserver-1, pgsql,
    query-runner, redis-cache, redis-store, repo-updater, searcher, sourcegraph-frontend, symbols</span><br>Total number of pointer lookups.
*   `go_memstats_mallocs_total`<span class="gray"> : counter : github-proxy, gitserver-1, pgsql,
    query-runner, redis-cache, redis-store, repo-updater, searcher, sourcegraph-frontend, symbols</span><br>Total number of mallocs.
*   `go_memstats_mcache_inuse_bytes`<span class="gray"> : gauge : github-proxy, gitserver-1, pgsql,
    query-runner, redis-cache, redis-store, repo-updater, searcher, sourcegraph-frontend, symbols</span><br>Number of bytes in use by mcache structures.
*   `go_memstats_mcache_sys_bytes`<span class="gray"> : gauge : github-proxy, gitserver-1, pgsql,
    query-runner, redis-cache, redis-store, repo-updater, searcher, sourcegraph-frontend, symbols</span><br>Number of bytes used for mcache structures obtained from system.
*   `go_memstats_mspan_inuse_bytes`<span class="gray"> : gauge : github-proxy, gitserver-1, pgsql,
    query-runner, redis-cache, redis-store, repo-updater, searcher, sourcegraph-frontend, symbols</span><br>Number of bytes in use by mspan structures.
*   `go_memstats_mspan_sys_bytes`<span class="gray"> : gauge : github-proxy, gitserver-1, pgsql,
    query-runner, redis-cache, redis-store, repo-updater, searcher, sourcegraph-frontend, symbols</span><br>Number of bytes used for mspan structures obtained from system.
*   `go_memstats_next_gc_bytes`<span class="gray"> : gauge : github-proxy, gitserver-1, pgsql,
    query-runner, redis-cache, redis-store, repo-updater, searcher, sourcegraph-frontend, symbols</span><br>Number of heap bytes when next garbage collection will take place.
*   `go_memstats_other_sys_bytes`<span class="gray"> : gauge : github-proxy, gitserver-1, pgsql,
    query-runner, redis-cache, redis-store, repo-updater, searcher, sourcegraph-frontend, symbols</span><br>Number of bytes used for other system allocations.
*   `go_memstats_stack_inuse_bytes`<span class="gray"> : gauge : github-proxy, gitserver-1, pgsql,
    query-runner, redis-cache, redis-store, repo-updater, searcher, sourcegraph-frontend, symbols</span><br>Number of bytes in use by the stack allocator.
*   `go_memstats_stack_sys_bytes`<span class="gray"> : gauge : github-proxy, gitserver-1, pgsql,
    query-runner, redis-cache, redis-store, repo-updater, searcher, sourcegraph-frontend, symbols</span><br>Number of bytes obtained from system for stack allocator.
*   `go_memstats_sys_bytes`<span class="gray"> : gauge : github-proxy, gitserver-1, pgsql,
    query-runner, redis-cache, redis-store, repo-updater, searcher, sourcegraph-frontend, symbols</span><br>Number of bytes obtained by system. Sum of all system allocations.
    items in the typecheck cache
*   `http_request_duration_microseconds`<span class="gray"> : summary : github-proxy, pgsql, redis-cache,
    redis-store</span><br>The HTTP request latencies in microseconds.
*   `http_request_size_bytes`<span class="gray"> : summary : github-proxy, pgsql, redis-cache, redis-store</span><br>The
    HTTP request sizes in bytes.
*   `http_requests_total`<span class="gray"> : counter : github-proxy, pgsql, redis-cache, redis-store</span><br>Total
    number of HTTP requests made.
*   `http_response_size_bytes`<span class="gray"> : summary : github-proxy, pgsql, redis-cache, redis-store</span><br>The
    HTTP response sizes in bytes.
*   `pg_exporter_last_scrape_duration_seconds`<span class="gray"> : gauge : pgsql</span><br>Duration of the last scrape of
    metrics from PostgresSQL.
*   `pg_exporter_last_scrape_error`<span class="gray"> : gauge : pgsql</span><br>Whether the last scrape of metrics from
    PostgreSQL resulted in an error (1 for error, 0 for success).
*   `pg_exporter_scrapes_total`<span class="gray"> : counter : pgsql</span><br>Total number of times PostgresSQL was
    scraped for metrics.
*   `pg_locks_count`<span class="gray"> : gauge : pgsql</span><br>Number of locks
*   `pg_runtime_variable_max_connections`<span class="gray"> : gauge : pgsql</span><br>Sets the maximum number of
    concurrent connections.
*   `pg_runtime_variable_max_files_per_process`<span class="gray"> : gauge : pgsql</span><br>Sets the maximum number of
    simultaneously open files for each server process.
*   `pg_runtime_variable_max_function_args`<span class="gray"> : gauge : pgsql</span><br>Shows the maximum number of
    function arguments.
*   `pg_runtime_variable_max_identifier_length`<span class="gray"> : gauge : pgsql</span><br>Shows the maximum identifier
    length.
*   `pg_runtime_variable_max_index_keys`<span class="gray"> : gauge : pgsql</span><br>Shows the maximum number of index
    keys.
*   `pg_runtime_variable_max_locks_per_transaction`<span class="gray"> : gauge : pgsql</span><br>Sets the maximum number
    of locks per transaction.
*   `pg_runtime_variable_max_pred_locks_per_transaction`<span class="gray"> : gauge : pgsql</span><br>Sets the maximum
    number of predicate locks per transaction.
*   `pg_runtime_variable_max_prepared_transactions`<span class="gray"> : gauge : pgsql</span><br>Sets the maximum number
    of simultaneously prepared transactions.
*   `pg_runtime_variable_max_standby_archive_delay_milliseconds`<span class="gray"> : gauge : pgsql</span><br>Sets the
    maximum delay before canceling queries when a hot standby server is processing archived WAL data.
*   `pg_runtime_variable_max_standby_streaming_delay_milliseconds`<span class="gray"> : gauge : pgsql</span><br>Sets the
    maximum delay before canceling queries when a hot standby server is processing streamed WAL data.
*   `pg_runtime_variable_max_wal_senders`<span class="gray"> : gauge : pgsql</span><br>Sets the maximum number of
    simultaneously running WAL sender processes.
*   `pg_stat_activity_count`<span class="gray"> : gauge : pgsql</span><br>number of connections in this state
*   `pg_stat_activity_max_tx_duration`<span class="gray"> : gauge : pgsql</span><br>max duration in seconds any active
    transaction has been running
*   `pg_stat_bgwriter_buffers_alloc`<span class="gray"> : counter : pgsql</span><br>Number of buffers allocated
*   `pg_stat_bgwriter_buffers_backend`<span class="gray"> : counter : pgsql</span><br>Number of buffers written directly
    by a backend
*   `pg_stat_bgwriter_buffers_backend_fsync`<span class="gray"> : counter : pgsql</span><br>Number of times a backend had
    to execute its own fsync call (normally the background writer handles those even when the backend does its own write)
*   `pg_stat_bgwriter_buffers_checkpoint`<span class="gray"> : counter : pgsql</span><br>Number of buffers written during
    checkpoints
*   `pg_stat_bgwriter_buffers_clean`<span class="gray"> : counter : pgsql</span><br>Number of buffers written by the
    background writer
*   `pg_stat_bgwriter_checkpoint_sync_time`<span class="gray"> : counter : pgsql</span><br>Total amount of time that has
    been spent in the portion of checkpoint processing where files are synchronized to disk, in milliseconds
*   `pg_stat_bgwriter_checkpoint_write_time`<span class="gray"> : counter : pgsql</span><br>Total amount of time that has
    been spent in the portion of checkpoint processing where files are written to disk, in milliseconds
*   `pg_stat_bgwriter_checkpoints_req`<span class="gray"> : counter : pgsql</span><br>Number of requested checkpoints that
    have been performed
*   `pg_stat_bgwriter_checkpoints_timed`<span class="gray"> : counter : pgsql</span><br>Number of scheduled checkpoints
    that have been performed
*   `pg_stat_bgwriter_maxwritten_clean`<span class="gray"> : counter : pgsql</span><br>Number of times the background
    writer stopped a cleaning scan because it had written too many buffers
*   `pg_stat_bgwriter_stats_reset`<span class="gray"> : counter : pgsql</span><br>Time at which these statistics were last
    reset
*   `pg_stat_database_blk_read_time`<span class="gray"> : counter : pgsql</span><br>Time spent reading data file blocks by
    backends in this database, in milliseconds
*   `pg_stat_database_blk_write_time`<span class="gray"> : counter : pgsql</span><br>Time spent writing data file blocks
    by backends in this database, in milliseconds
*   `pg_stat_database_blks_hit`<span class="gray"> : counter : pgsql</span><br>Number of times disk blocks were found
    already in the buffer cache, so that a read was not necessary (this only includes hits in the PostgreSQL buffer cache,
    not the operating system&#39;s file system cache)
*   `pg_stat_database_blks_read`<span class="gray"> : counter : pgsql</span><br>Number of disk blocks read in this
    database
*   `pg_stat_database_conflicts`<span class="gray"> : counter : pgsql</span><br>Number of queries canceled due to
    conflicts with recovery in this database. (Conflicts occur only on standby servers; see pg_stat_database_conflicts for
    details.)
*   `pg_stat_database_conflicts_confl_bufferpin`<span class="gray"> : counter : pgsql</span><br>Number of queries in this
    database that have been canceled due to pinned buffers
*   `pg_stat_database_conflicts_confl_deadlock`<span class="gray"> : counter : pgsql</span><br>Number of queries in this
    database that have been canceled due to deadlocks
*   `pg_stat_database_conflicts_confl_lock`<span class="gray"> : counter : pgsql</span><br>Number of queries in this
    database that have been canceled due to lock timeouts
*   `pg_stat_database_conflicts_confl_snapshot`<span class="gray"> : counter : pgsql</span><br>Number of queries in this
    database that have been canceled due to old snapshots
*   `pg_stat_database_conflicts_confl_tablespace`<span class="gray"> : counter : pgsql</span><br>Number of queries in this
    database that have been canceled due to dropped tablespaces
*   `pg_stat_database_deadlocks`<span class="gray"> : counter : pgsql</span><br>Number of deadlocks detected in this
    database
*   `pg_stat_database_numbackends`<span class="gray"> : gauge : pgsql</span><br>Number of backends currently connected to
    this database. This is the only column in this view that returns a value reflecting current state; all other columns
    return the accumulated values since the last reset.
*   `pg_stat_database_stats_reset`<span class="gray"> : counter : pgsql</span><br>Time at which these statistics were last
    reset
*   `pg_stat_database_temp_bytes`<span class="gray"> : counter : pgsql</span><br>Total amount of data written to temporary
    files by queries in this database. All temporary files are counted, regardless of why the temporary file was created,
    and regardless of the log_temp_files setting.
*   `pg_stat_database_temp_files`<span class="gray"> : counter : pgsql</span><br>Number of temporary files created by
    queries in this database. All temporary files are counted, regardless of why the temporary file was created (e.g.,
    sorting or hashing), and regardless of the log_temp_files setting.
*   `pg_stat_database_tup_deleted`<span class="gray"> : counter : pgsql</span><br>Number of rows deleted by queries in
    this database
*   `pg_stat_database_tup_fetched`<span class="gray"> : counter : pgsql</span><br>Number of rows fetched by queries in
    this database
*   `pg_stat_database_tup_inserted`<span class="gray"> : counter : pgsql</span><br>Number of rows inserted by queries in
    this database
*   `pg_stat_database_tup_returned`<span class="gray"> : counter : pgsql</span><br>Number of rows returned by queries in
    this database
*   `pg_stat_database_tup_updated`<span class="gray"> : counter : pgsql</span><br>Number of rows updated by queries in
    this database
*   `pg_stat_database_xact_commit`<span class="gray"> : counter : pgsql</span><br>Number of transactions in this database
    that have been committed
*   `pg_stat_database_xact_rollback`<span class="gray"> : counter : pgsql</span><br>Number of transactions in this
    database that have been rolled back
*   `process_cpu_seconds_total`<span class="gray"> : counter : github-proxy, gitserver-1, pgsql,
    query-runner, redis-cache, redis-store, repo-updater, searcher, sourcegraph-frontend, symbols</span><br>Total user and system CPU time spent in seconds.
*   `process_max_fds`<span class="gray"> : gauge : github-proxy, gitserver-1, pgsql, query-runner,
    redis-cache, redis-store, repo-updater, searcher, sourcegraph-frontend, symbols</span><br>Maximum number of
    open file descriptors.
*   `process_open_fds`<span class="gray"> : gauge : github-proxy, gitserver-1, pgsql, query-runner,
    redis-cache, redis-store, repo-updater, searcher, sourcegraph-frontend, symbols</span><br>Number of open
    file descriptors.
*   `process_resident_memory_bytes`<span class="gray"> : gauge : github-proxy, gitserver-1, pgsql,
    query-runner, redis-cache, redis-store, repo-updater, searcher, sourcegraph-frontend, symbols</span><br>Resident memory size in bytes.
*   `process_start_time_seconds`<span class="gray"> : gauge : github-proxy, gitserver-1, pgsql,
    query-runner, redis-cache, redis-store, repo-updater, searcher, sourcegraph-frontend, symbols</span><br>Start time of the process since unix epoch in seconds.
*   `process_virtual_memory_bytes`<span class="gray"> : gauge : github-proxy, gitserver-1, pgsql,
    query-runner, redis-cache, redis-store, repo-updater, searcher, sourcegraph-frontend, symbols</span><br>Virtual memory size in bytes.
*   `redis_aof_current_rewrite_duration_sec`<span class="gray"> : gauge : redis-cache, redis-store</span><br>
*   `redis_aof_enabled`<span class="gray"> : gauge : redis-cache, redis-store</span><br>
*   `redis_aof_last_rewrite_duration_sec`<span class="gray"> : gauge : redis-cache, redis-store</span><br>
*   `redis_aof_rewrite_in_progress`<span class="gray"> : gauge : redis-cache, redis-store</span><br>
*   `redis_aof_rewrite_scheduled`<span class="gray"> : gauge : redis-cache, redis-store</span><br>
*   `redis_blocked_clients`<span class="gray"> : gauge : redis-cache, redis-store</span><br>
*   `redis_client_longest_output_list`<span class="gray"> : gauge : redis-cache, redis-store</span><br>
*   `redis_cluster_enabled`<span class="gray"> : gauge : redis-cache, redis-store</span><br>
*   `redis_command_call_duration_seconds_count`<span class="gray"> : gauge : redis-cache, redis-store</span><br>Total
    number of calls per command
*   `redis_command_call_duration_seconds_sum`<span class="gray"> : gauge : redis-cache, redis-store</span><br>Total amount
    of time in seconds spent per command
*   `redis_commands_processed_total`<span class="gray"> : gauge : redis-cache, redis-store</span><br>
*   `redis_connected_clients`<span class="gray"> : gauge : redis-cache, redis-store</span><br>
*   `redis_connected_slaves`<span class="gray"> : gauge : redis-cache, redis-store</span><br>
*   `redis_connections_received_total`<span class="gray"> : gauge : redis-cache, redis-store</span><br>
*   `redis_db_avg_ttl_seconds`<span class="gray"> : gauge : redis-cache, redis-store</span><br>Avg TTL in seconds
*   `redis_db_keys`<span class="gray"> : gauge : redis-cache, redis-store</span><br>Total number of keys by DB
*   `redis_db_keys_expiring`<span class="gray"> : gauge : redis-cache, redis-store</span><br>Total number of expiring keys
    by DB
*   `redis_evicted_keys_total`<span class="gray"> : gauge : redis-cache, redis-store</span><br>
*   `redis_expired_keys_total`<span class="gray"> : gauge : redis-cache, redis-store</span><br>
*   `redis_exporter_build_info`<span class="gray"> : gauge : redis-cache, redis-store</span><br>redis exporter build_info
*   `redis_exporter_last_scrape_duration_seconds`<span class="gray"> : gauge : redis-cache, redis-store</span><br>The last
    scrape duration.
*   `redis_exporter_last_scrape_error`<span class="gray"> : gauge : redis-cache, redis-store</span><br>The last scrape
    error status.
*   `redis_exporter_scrapes_total`<span class="gray"> : counter : redis-cache, redis-store</span><br>Current total redis
    scrapes.
*   `redis_instance_info`<span class="gray"> : gauge : redis-cache, redis-store</span><br>Information about the Redis
    instance
*   `redis_instantaneous_ops_per_sec`<span class="gray"> : gauge : redis-cache, redis-store</span><br>
*   `redis_keyspace_hits_total`<span class="gray"> : gauge : redis-cache, redis-store</span><br>
*   `redis_keyspace_misses_total`<span class="gray"> : gauge : redis-cache, redis-store</span><br>
*   `redis_latest_fork_usec`<span class="gray"> : gauge : redis-cache, redis-store</span><br>
*   `redis_loading_dump_file`<span class="gray"> : gauge : redis-cache, redis-store</span><br>
*   `redis_master_repl_offset`<span class="gray"> : gauge : redis-cache, redis-store</span><br>
*   `redis_memory_fragmentation_ratio`<span class="gray"> : gauge : redis-cache, redis-store</span><br>
*   `redis_memory_max_bytes`<span class="gray"> : gauge : redis-cache, redis-store</span><br>
*   `redis_memory_used_bytes`<span class="gray"> : gauge : redis-cache, redis-store</span><br>
*   `redis_memory_used_lua_bytes`<span class="gray"> : gauge : redis-cache, redis-store</span><br>
*   `redis_memory_used_peak_bytes`<span class="gray"> : gauge : redis-cache, redis-store</span><br>
*   `redis_memory_used_rss_bytes`<span class="gray"> : gauge : redis-cache, redis-store</span><br>
*   `redis_net_input_bytes_total`<span class="gray"> : gauge : redis-cache, redis-store</span><br>
*   `redis_net_output_bytes_total`<span class="gray"> : gauge : redis-cache, redis-store</span><br>
*   `redis_process_id`<span class="gray"> : gauge : redis-cache, redis-store</span><br>
*   `redis_pubsub_channels`<span class="gray"> : gauge : redis-cache, redis-store</span><br>
*   `redis_pubsub_patterns`<span class="gray"> : gauge : redis-cache, redis-store</span><br>
*   `redis_rdb_changes_since_last_save`<span class="gray"> : gauge : redis-cache, redis-store</span><br>
*   `redis_rdb_current_bgsave_duration_sec`<span class="gray"> : gauge : redis-cache, redis-store</span><br>
*   `redis_rdb_last_bgsave_duration_sec`<span class="gray"> : gauge : redis-cache, redis-store</span><br>
*   `redis_rejected_connections_total`<span class="gray"> : gauge : redis-cache, redis-store</span><br>
*   `redis_replication_backlog_bytes`<span class="gray"> : gauge : redis-cache, redis-store</span><br>
*   `redis_up`<span class="gray"> : gauge : redis-cache, redis-store</span><br>
*   `redis_uptime_in_seconds`<span class="gray"> : gauge : redis-cache, redis-store</span><br>
*   `redis_used_cpu_sys`<span class="gray"> : gauge : redis-cache, redis-store</span><br>
*   `redis_used_cpu_sys_children`<span class="gray"> : gauge : redis-cache, redis-store</span><br>
*   `redis_used_cpu_user`<span class="gray"> : gauge : redis-cache, redis-store</span><br>
*   `redis_used_cpu_user_children`<span class="gray"> : gauge : redis-cache, redis-store</span><br>
*   `searcher_service_request_total`<span class="gray"> : counter : searcher</span><br>Number of returned search requests.
*   `searcher_service_running`<span class="gray"> : gauge : searcher</span><br>Number of running search requests.
*   `searcher_store_cache_size_bytes`<span class="gray"> : gauge : searcher</span><br>The total size of items in the on
    disk cache.
*   `searcher_store_evictions`<span class="gray"> : counter : searcher</span><br>The total number of items evicted from
    the cache.
*   `searcher_store_fetch_failed`<span class="gray"> : counter : searcher</span><br>The total number of archive fetches
    that failed.
*   `searcher_store_fetch_queue_size`<span class="gray"> : gauge : searcher</span><br>The number of fetch jobs enqueued.
*   `searcher_store_fetching`<span class="gray"> : gauge : searcher</span><br>The number of fetches currently running.
*   `src_backend_client_request_duration_seconds`<span class="gray"> : histogram : sourcegraph-frontend</span><br>Total
    time spent on backend endpoints.
*   `src_backend_client_requests`<span class="gray"> : gauge : sourcegraph-frontend</span><br>Current number of requests
    running for a method.
*   `src_github_rate_limit_remaining`<span class="gray"> : gauge : github-proxy</span><br>Number of calls to GitHub&#39;s
    API remaining before hitting the rate limit.
*   `src_github_requests_total`<span class="gray"> : counter : repo-updater</span><br>Total number of requests sent to the
    GitHub API.
*   `src_gitserver_client_deadline_exceeded`<span class="gray"> : counter : repo-updater, searcher,
    sourcegraph-frontend, symbols</span><br>Times that Client.sendExec() returned context.DeadlineExceeded
*   `src_gitserver_clone_queue`<span class="gray"> : gauge : gitserver-1</span><br>number of repos waiting to be cloned.
*   `src_gitserver_disk_space_available`<span class="gray"> : gauge : gitserver-1</span><br>Amount of free space disk
    space on the repos mount.
*   `src_gitserver_echo_duration_seconds`<span class="gray"> : gauge : gitserver-1</span><br>Duration of executing the
    echo command.
*   `src_gitserver_exec_duration_seconds`<span class="gray"> : histogram : gitserver-1</span><br>gitserver.Command
    latencies in seconds.
*   `src_gitserver_exec_running`<span class="gray"> : gauge : gitserver-1</span><br>number of gitserver.Command running
    concurrently.
*   `src_gitserver_lsremote_queue`<span class="gray"> : gauge : gitserver-1</span><br>number of repos waiting to check
    existence on remote code host (git ls-remote).
*   `src_gitserver_repos_recloned`<span class="gray"> : counter : gitserver-1</span><br>number of repos removed and
    recloned due to age
*   `src_gitserver_repos_removed`<span class="gray"> : counter : gitserver-1</span><br>number of repos removed during
    cleanup due to inactivity
*   `src_gitserver_update_queue`<span class="gray"> : gauge : gitserver-1</span><br>number of repos waiting to be updated
    (enqueue-repo-update)
*   `src_graphql_field_seconds`<span class="gray"> : histogram : sourcegraph-frontend</span><br>GraphQL field resolver
    latencies in seconds.
*   `src_graphql_search_results_stats_cache_hit`<span class="gray"> : counter : sourcegraph-frontend</span><br>Counts
    cache hits and misses for search results stats (e.g. sparklines).
*   `src_http_request_duration_seconds`<span class="gray"> : histogram : sourcegraph-frontend</span><br>The HTTP request
    latencies in seconds.
*   `src_http_requests_last_timestamp_unixtime`<span class="gray"> : gauge : sourcegraph-frontend</span><br>Last time a
    request finished for a http endpoint.
*   `src_legacy_def_landing_webapp`<span class="gray"> : counter : sourcegraph-frontend</span><br>Number of times a legacy
    def landing page has been served.
*   `src_legacy_repo_landing_webapp`<span class="gray"> : counter : sourcegraph-frontend</span><br>Number of times a
    legacy repo landing page has been served.
*   `src_pgsql_app_open_connections`<span class="gray"> : gauge : sourcegraph-frontend</span><br>Number of open
    connections to pgsql DB, as reported by pgsql.DB.Stats()
*   `src_repos_github_cache_hit`<span class="gray"> : counter : repo-updater</span><br>Counts cache hits and misses for
    GitHub repo metadata.
*   `src_repoupdater_time_last_bitbucketserver_sync`<span class="gray"> : gauge : repo-updater</span><br>The last time a
    comprehensive Bitbucket Server sync finished
*   `src_repoupdater_time_last_github_sync`<span class="gray"> : gauge : repo-updater</span><br>The last time a
    comprehensive GitHub sync finished
*   `src_repoupdater_time_last_gitlab_sync`<span class="gray"> : gauge : repo-updater</span><br>The last time a
    comprehensive GitLab sync finished
*   `src_repoupdater_time_last_gitolite_sync`<span class="gray"> : gauge : repo-updater</span><br>The last time a
    comprehensive Gitolite sync finished
*   `src_repoupdater_time_last_repolist_sync`<span class="gray"> : gauge : repo-updater</span><br>The time the last
    repository sync loop completed
*   `src_updatecheck_requests`<span class="gray"> : counter : sourcegraph-frontend</span><br>Number of requests to the
    update check handler.
*   `src_updatecheck_requests_has_update`<span class="gray"> : counter : sourcegraph-frontend</span><br>Number of requests
    to the update check handler where an update is available.
*   `src_vfs_gitserver_bytes_total`<span class="gray"> : counter : sourcegraph-frontend</span><br>Total number of bytes read into memory by ArchiveFileSystem.
*   `symbols_parse_parse_failed`<span class="gray"> : counter : symbols</span><br>The total number of parse jobs that
    failed.
*   `symbols_parse_parse_queue_size`<span class="gray"> : gauge : symbols</span><br>The number of parse jobs enqueued.
*   `symbols_parse_parsing`<span class="gray"> : gauge : symbols</span><br>The number of parse jobs currently running.
*   `symbols_store_cache_size_bytes`<span class="gray"> : gauge : symbols</span><br>The total size of items in the on disk
    cache.
*   `symbols_store_evictions`<span class="gray"> : counter : symbols</span><br>The total number of items evicted from the
    cache.
*   `symbols_store_fetch_failed`<span class="gray"> : counter : symbols</span><br>The total number of archive fetches that
    failed.
*   `symbols_store_fetch_queue_size`<span class="gray"> : gauge : symbols</span><br>The number of fetch jobs enqueued.
*   `symbols_store_fetching`<span class="gray"> : gauge : symbols</span><br>The number of fetches currently running.

<!-- END AUTOGENERATED CODE -->
