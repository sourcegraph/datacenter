# This file defines the default values passed to this Helm chart. The user-provided `values.yaml`
# will be merged with this one and the result will be passed to the Helm templating stage.  At the
# top level, these values are separated into three sections: `const`, `cluster`, and `site`,
# documented below.

# const defines configuration constants that generally should not be changed unless testing out experimental or pre-release features.
const:
  frontend:
    image: docker.sourcegraph.com/frontend:17750_2018-06-30_9391756
  githubProxy:
    image: docker.sourcegraph.com/github-proxy:11943_2018-02-23_8bfb2ee
  pgsql:
    exporterImage: docker.sourcegraph.com/pgsql-exporter:a294a9b6d83c139d3e1217f02c8f80a54cbf73ac
    image: docker.sourcegraph.com/postgres:9.4
  prometheus:
    image: docker.sourcegraph.com/prometheus:v1.4.1
  authProxy:
    image: docker.sourcegraph.com/auth-proxy:latest
# cluster specifies the Docker images to use for each service along with replica counts and resource specs where they
# are tunable.
cluster:
  # RBAC is enabled by default. Some Kubernetes environments do not permit RBAC. Set to "disabled" to disable and
  # prevent RBAC objects from being generated.
  searcher:
    replicas: 1
    containers:
      searcher:
  symbols:
    replicas: 1
    containers:
      symbols:
    # # ssh is a map that describes the structure of gitserver's .ssh directory. If you have configured Sourcegraph
    # # to index a private git repository and clone via SSH, you'll need to add the appropriate files to this
    # # field.
    # ssh:
    #   known_hosts: "Set this to the desired value for the SSH known_hosts file."
    #   id_rsa: "Set this to the value of a private key authorized to clone repositories from the code host."

    # # Uncomment this to add a Kubernetes node selector to the pods. This is usually unnecessary for most components, unless
    # # you have a heterogeneous cluster where you need to ensure certain more resource-hungry pods (e.g., indexedSearch) are
    # # assigned to larger nodes.
    # nodeSelector:
    #   beta.kubernetes.io/instance-type: i3.4xlarge
  xlangJavascriptTypescript:
    replicas: 1
    containers:
      xlang-javascript-typescript:
  storageClass:
    # name is the name of the storage class used by the persistent volumes generated in this chart. This should be
    # left as is, unless you are using an already existing storage class.
    name: default

    # # REQUIRED: create should be set to "gcp", "aws", or "no". Setting to "gcp" or "aws" will create a new storage class for
    # # the designated infrastructure provider. If set to "none", a storage class with the designated name must be
    # # created separately from the config generated by this chart
    # create: none

    # # zone should be set to the zone in which your Kubernetes cluster resides
    # zone: us-west1-a

  # # securityContext, if set, overrides the standard pod security context in all pods
  # securityContext:
  #   fsGroup: 1000

  configVolume:
    # configVolume.defaultMode sets the filesystem mode for ConfigMap volumes
    defaultMode: 464

  # # commonVolumes lists volumes to be included with every pod
  # commonVolumes:
  # - name: ssl
  #   hostPath:
  #     path: /etc/ssl

  # # commonVolumeMounts lists volumeMounts to be attached to every container (these typically
  # # corespond to the volumes specified in commonVolumes).
  # commonVolumeMounts:
  # - mountPath: /etc/ssl
  #   name: ssl


# site is the Sourcegraph site configuration.
#
# For legacy reasons, it can include some configuration fields that are only relevant to Data Center.
#
# See all site config options at https://about.sourcegraph.com/docs/config/site.
site: {
  # Publicly accessible URL to web app (e.g., what you type into your browser).
  "appURL": "http://localhost:3080",

  # Port exposed on all nodes directing HTTP traffic to sourcegraph-frontend pod(s).
  "httpNodePort": 30080,

  # # Port exposed on all nodes directing HTTPS traffic to sourcegraph-frontend pod(s). Uncomment this
  # # to allow incoming HTTPS traffic.
  # httpsNodePort: 30081

  # # The authentication provider to use for identifying and signing in users. Only one entry is supported.
  # #
  # # The builtin auth provider with signup disallowed (shown below) means that after the initial site admin signs in, all other users must be invited.
  # #
  # "auth.providers": [{"type": "builtin", "allowSignup": false}],

  # Uncomment the languages for which you wish to enable code intelligence
  "langservers": [
    # {
    #   "language": "go",
    # },
    # {
    #   "language": "java",
    # },
    # {
    #   "language": "javascript",
    # },
    # {
    #   "language": "typescript",
    # },
    # {
    #   "language": "python",
    # },
    # {
    #   "language": "php",
    # },

    # WARNING experimental language servers follow - read about the caveats
    # before enabling them:
    # https://about.sourcegraph.com/docs/code-intelligence/experimental-language-servers#caveats-of-experimental-language-servers
    # {
    #   "language": "bash",
    # },
    # {
    #   "language": "clojure",
    # },
    # {
    #   "language": "cpp",
    # },
    # {
    #   "language": "cs",
    # },
    # {
    #   "language": "css",
    # },
    # {
    #   "language": "dockerfile",
    # },
    # {
    #   "language": "elixir",
    # },
    # {
    #   "language": "html",
    # },
    # {
    #   "language": "lua",
    # },
    # {
    #   "language": "ocaml",
    # },
    # {
    #   "language": "r",
    # },
    # {
    #   "language": "ruby",
    # },
    # {
    #   "language": "rust",
    # },
  ],
}
